"use strict";
module.exports = function (a) {
    require("load-grunt-tasks")(a);
    require("time-grunt")(a);
    a.initConfig({
        clean: {ts: {files: [{src: ["dist/*.js", "dist/*.d.ts", "dist/*.map", "dist/*.css"]}]}},
        ts: {
            build: {
                src: ["PruneCluster.ts", "LeafletAdapter.ts", "LeafletSpiderfier.ts"],
                reference: "dist/PruneCluster.d.ts",
                out: "./dist/PruneCluster.js",
                options: {target: "es5", module: "commonjs", sourceMap: true}
            }
        },
        uglify: {
            ts: {
                options: {sourceMap: true, sourceMapName: "dist/PruneCluster.min.js.map"},
                files: {"dist/PruneCluster.min.js": ["dist/PruneCluster.js"]}
            }
        },
        copy: {css: {src: "LeafletStyleSheet.css", dest: "dist/LeafletStyleSheet.css"}}
    });
    a.registerTask("build", ["clean:ts", "copy:css", "ts:build", "uglify"]);
    a.registerTask("default", ["build"])
};